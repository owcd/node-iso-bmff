// Generated by CoffeeScript 1.12.2
(function() {
  var BufferIterator, tools;

  tools = require('../tools');

  BufferIterator = require('../bufferIterator');

  module.exports.decode = function(buffer, offset) {
    var data, iterator;
    iterator = new BufferIterator(buffer);
    data = {};
    data.majorBrand = iterator.readString('utf8', 4);
    data.minorVersion = iterator.read32();
    data.compatibleBrands = [];
    while (iterator.hasMore()) {
      data.compatibleBrands.push(iterator.readString('utf8', 4));
    }
    return data;
  };

  module.exports.encode = function(data) {
    var brand, buffer, i, iterator, len, ref;
    buffer = new Buffer(8 + data.compatibleBrands.length * 4);
    iterator = new BufferIterator(buffer);
    iterator.writeString(data.majorBrand, 4);
    iterator.write32(data.minorVersion);
    ref = data.compatibleBrands;
    for (i = 0, len = ref.length; i < len; i++) {
      brand = ref[i];
      iterator.writeString(brand, 4);
    }
    return iterator.buffer;
  };

}).call(this);
