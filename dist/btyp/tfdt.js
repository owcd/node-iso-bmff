// Generated by CoffeeScript 1.12.2
(function() {
  var BufferIterator, tools;

  tools = require('../tools');

  BufferIterator = require('../bufferIterator');

  module.exports.decode = function(buffer, offset) {
    var data, iterator;
    iterator = new BufferIterator(buffer);
    data = tools.initBoxData(iterator);
    if (data.version === 1) {
      data.baseMediaDecodeTime = iterator.read64();
    } else {
      data.baseMediaDecodeTime = iterator.read32();
    }
    return data;
  };

  module.exports.encode = function(data) {
    var iterator, length;
    length = 4;
    if (data.version === 1) {
      length += 4;
    }
    iterator = tools.writeBoxData(data, length);
    if (data.version === 1) {
      iterator.write64(data.baseMediaDecodeTime);
    } else {
      iterator.write32(data.baseMediaDecodeTime);
    }
    return iterator.buffer;
  };

}).call(this);
